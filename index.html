<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ammar Syazwan Bin Mohd Sharin | Full Stack Developer Portfolio</title>
    <!-- Favicon: Using a simple emoji/SVG data URI -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš€</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* =================================================================
           1. Global Styles and CSS Variables
           ================================================================= */
        :root {
            /* Light Mode Defaults */
            --color-primary: #1565C0; /* Strong Blue */
            --color-secondary: #42A5F5; /* Lighter Blue */
            --color-text: #263238; /* Dark text (Blue Grey) */
            --color-background: #F5F5F5; /* Light Grey background */
            --color-card-bg: #FFFFFF; /* White cards */
            --color-border: #E0E0E0;
            --color-shadow: rgba(0, 0, 0, 0.1);
            --font-family: 'Inter', sans-serif;
            --border-radius: 12px;
            scroll-behavior: smooth; /* JS Feature 1: Smooth Scrolling via CSS */
        }

        /* Dark Mode Configuration */
        body.dark-mode {
            --color-primary: #BBDEFB;
            --color-secondary: #64B5F6;
            --color-text: #E0E0E0;
            --color-background: #10151C;
            --color-card-bg: #1E2730;
            --color-border: #37474F;
            --color-shadow: rgba(0, 0, 0, 0.4);
        }

        /* Accessibility: General focus state for interactive elements */
        a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible {
            outline: 3px solid var(--color-secondary);
            outline-offset: 3px;
            border-radius: 4px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            line-height: 1.6;
            color: var(--color-text);
            background-color: var(--color-background);
            transition: background-color 0.4s, color 0.4s;
            opacity: 0; /* JS Feature 8: Fade in control */
            visibility: hidden;
        }
        
        body.loaded {
            opacity: 1;
            visibility: visible;
        }

        /* =================================================================
           2. Utility Classes & Reusable Components
           ================================================================= */
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 100px 0 80px 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        h2 {
            font-size: 2.8rem;
            text-align: center;
            color: var(--color-primary);
            margin-bottom: 60px;
            font-weight: 900;
        }
        
        .section-header {
            margin-bottom: 60px;
        }

        .btn {
            display: inline-block;
            padding: 14px 28px;
            background-color: var(--color-primary);
            color: var(--color-card-bg);
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 700;
            transition: background-color 0.3s, transform 0.1s, box-shadow 0.3s;
            border: none;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 8px rgba(21, 101, 192, 0.2);
        }

        .btn:hover {
            background-color: var(--color-secondary);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(21, 101, 192, 0.3);
        }
        
        .card {
            background-color: var(--color-card-bg);
            padding: 35px;
            border-radius: var(--border-radius);
            box-shadow: 0 6px 18px var(--color-shadow);
            border: 1px solid var(--color-border);
            transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s;
            height: 100%; /* For grid uniformity */
        }
        
        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 25px rgba(21, 101, 192, 0.2);
        }


        /* =================================================================
           3. Preloader (JS Feature 8 Component)
           ================================================================= */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color-background);
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        
        #preloader.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .spinner {
            border: 5px solid var(--color-border);
            border-top: 5px solid var(--color-primary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* =================================================================
           4. Navigation Bar (Header)
           ================================================================= */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-card-bg);
            box-shadow: 0 2px 8px var(--color-shadow);
            z-index: 1000;
            padding: 15px 0;
            transition: background-color 0.3s, box-shadow 0.3s;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--color-primary);
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li a {
            color: var(--color-text);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 18px;
            transition: color 0.3s, background-color 0.3s;
            border-radius: var(--border-radius);
        }

        /* JS Feature 2: Active Navigation Highlighting */
        .nav-links li a.active,
        .nav-links li a:hover {
            color: var(--color-primary);
            background-color: rgba(66, 165, 245, 0.1); /* Lighter blue hint */
        }
        
        /* JS Feature 7: Dark Mode Toggle Button */
        .dark-mode-toggle {
            width: 40px;
            height: 40px;
            background: var(--color-card-bg);
            border: 1px solid var(--color-border);
            border-radius: 50%;
            cursor: pointer;
            color: var(--color-text);
            font-size: 1.2rem;
            transition: background-color 0.3s, color 0.3s, border-color 0.3s;
            margin-left: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .dark-mode-toggle:hover {
            background-color: var(--color-border);
        }


        /* =================================================================
           5. Section Specific Styles
           ================================================================= */

        /* --- Home Section --- */
        #home {
            padding-top: 100px; /* Account for fixed header */
            min-height: 100vh;
        }

        .hero-content {
            display: flex;
            align-items: center;
            gap: 60px;
        }

        .text-content {
            flex: 3;
        }
        
        .text-content p {
            font-size: 1.15rem;
            margin-bottom: 30px;
        }

        .text-content h1 {
            font-size: 4.5rem;
            margin-bottom: 5px;
            line-height: 1.1;
            font-weight: 900;
        }

        .text-content h1 span {
            color: var(--color-primary);
        }
        
        /* The container for the dynamic role text */
        .typed-text-container {
            min-height: 35px; /* Prevent layout shift */
            margin-bottom: 20px;
        }
        
        /* JS Feature 4: Typewriter effect cursor */
        .typed-text-cursor {
            display: inline-block;
            width: 3px;
            height: 25px;
            background-color: var(--color-primary);
            margin-left: 5px;
            animation: blink 0.7s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .image-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 250px;
        }

        .profile-img {
            width: 100%;
            height: auto;
            max-width: 300px;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            border-radius: 50%;
            border: 8px solid var(--color-primary);
            box-shadow: 0 0 0 15px rgba(66, 165, 245, 0.1);
        }

        /* --- About Me Section --- */
        #about {
            background-color: var(--color-card-bg);
        }

        .about-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            align-items: start;
        }
        
        .bio p {
            margin-bottom: 20px;
            line-height: 1.7;
        }

        /* --- Skills Card (JS Feature 5: Skill Bars) --- */
        .skills-card h3 {
            margin-bottom: 20px;
            font-size: 1.5rem;
            color: var(--color-primary);
        }
        
        .skill-item-bar {
            margin-bottom: 15px;
        }

        .skill-item-bar p {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .progress-bar-container {
            background-color: var(--color-border);
            height: 10px;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--color-secondary);
            width: 0; /* JS controls width */
            transition: width 1s ease-out;
            border-radius: 5px;
        }


        /* --- Projects Section --- */
        #projects {
            background-color: var(--color-background);
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
        }

        .project-card h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .project-card p {
            margin-bottom: 15px;
            font-size: 0.95rem;
        }

        .project-card .tags {
            font-style: italic;
            color: var(--color-secondary);
            display: block;
            margin-bottom: 15px;
            font-size: 0.85rem;
        }
        
        .project-card .project-link {
            color: var(--color-primary);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s;
        }
        
        .project-card .project-link:hover {
            color: var(--color-text);
        }

        .project-image {
            /* Sets the height and aspect ratio for the image container */
            height: 0;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio (9/16 * 100) */
            width: 100%;
            margin-bottom: 20px;
            border-radius: 8px;
            background-size: cover; /* Ensures the image covers the container */
            background-position: top center; /* Focuses on the top of the screenshot */
            background-repeat: no-repeat;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--color-border);
        }
        /* Specific background images for each project */
        #img-uiux {
            background-image: url('images/ui_ix.png'); 
        }
        /* Repeat for other projects if needed: */
        #img-quickmathgame {
            background-image: url('images/quick_math_game.png');
        }
        
        #img-xampp {
            background-image: url('images/xampp.png');
        }

        /* --- Contact Section --- */
        #contact {
            background-color: var(--color-card-bg);
            min-height: 80vh;
        }
        
        .contact-content {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }
        
        .contact-content p {
            margin-bottom: 40px;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        .contact-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            text-align: left;
        }

        .contact-form input,
        .contact-form textarea {
            width: 100%;
            padding: 15px;
            margin-bottom: 25px;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            background-color: var(--color-background);
            color: var(--color-text);
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .dark-mode .contact-form input,
        .dark-mode .contact-form textarea {
            background-color: var(--color-card-bg);
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(21, 101, 192, 0.2);
            outline: none;
        }

        .contact-form textarea {
            resize: vertical;
            min-height: 180px;
        }
        
        /* JS Feature 6: Submission Message Style */
        #form-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: var(--border-radius);
            font-weight: 600;
            text-align: left;
            display: none; /* Hidden by default */
            transition: opacity 0.3s;
        }
        
        .form-success {
            background-color: #D4EDDA;
            color: #155724;
        }
        
        .dark-mode .form-success {
             background-color: #173822;
             color: #D4EDDA;
        }

        .form-error {
            background-color: #F8D7DA;
            color: #721C24;
        }
        
        .dark-mode .form-error {
             background-color: #4A1D1D;
             color: #F8D7DA;
        }

        /* =================================================================
           6. Footer
           ================================================================= */
        .footer {
            text-align: center;
            padding: 25px 0;
            background-color: var(--color-card-bg);
            border-top: 1px solid var(--color-border);
            font-size: 0.9rem;
            color: var(--color-text);
        }

        /* =================================================================
           7. Responsive Design (Media Queries)
           ================================================================= */

        /* Tablet and Smaller Desktops (max-width: 992px) */
        @media (max-width: 992px) {
            h1 { font-size: 3.5rem !important; }
            h2 { font-size: 2.5rem; }
            
            .hero-content {
                flex-direction: column-reverse;
                text-align: center;
                gap: 40px;
            }

            .image-content {
                max-width: 200px;
            }
            
            .profile-img {
                width: 200px;
                height: 200px;
            }
            
            .about-grid {
                grid-template-columns: 1fr;
            }

            .nav-links li a {
                padding: 10px 12px;
                font-size: 0.95rem;
            }
        }

        /* Mobile Devices (max-width: 768px) */
        @media (max-width: 768px) {
            h1 { font-size: 2.8rem !important; }
            h2 { font-size: 2rem; margin-bottom: 40px; }
            section { padding: 60px 0 40px 0; }
            
            .header {
                padding: 10px 0;
            }
            
            .nav-content {
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
            }
            
            .logo {
                width: 100%;
                text-align: center;
                margin-bottom: 10px;
            }

            .nav-links {
                order: 1; /* Move links below the logo/toggle */
                width: 100%;
                justify-content: space-around;
            }
            
            .dark-mode-toggle {
                position: absolute;
                top: 15px;
                right: 20px;
                margin-left: 0;
            }
        }
    </style>
</head>
<body>
    <!-- JS Feature 8: Preloader to ensure smooth load and page transitions -->
    <div id="preloader">
        <div class="spinner"></div>
    </div>

    <!-- Persistent Navigation Bar -->
    <header class="header">
        <div class="container nav-content">
            <a href="#home" class="logo">AS.DEV</a>
            <nav aria-label="Main Navigation">
                <ul class="nav-links">
                    <li><a href="#home" class="nav-link active">Home</a></li>
                    <li><a href="#about" class="nav-link">About Me</a></li>
                    <li><a href="#projects" class="nav-link">Projects</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
            <!-- JS Feature 7: Dark Mode Toggle -->
            <button id="darkModeToggle" class="dark-mode-toggle" aria-label="Toggle light and dark mode">
                &#9728; <!-- Sun icon -->
            </button>
        </div>
    </header>

    <main>
        <!-- Home Section -->
        <section id="home" class="container">
            <div class="hero-content">
                <div class="text-content">
                    <p>Hi, I'm Ammar Syazwan Bin Mohd Sharin.</p>
                    <h1>Creative <span>Problem Solver</span></h1>
                    <div class="typed-text-container">
                        <!-- JS Feature 4 Target: Dynamic role text -->
                        <span id="typed-text" class="text-content"></span>
                        <span class="typed-text-cursor"></span>
                    </div>
                    <p>I blend technical proficiency with design intuition to deliver high-quality, accessible, and performant web applications. Let's create something great.</p>
                    <a href="#contact" class="btn">Contact Me</a>
                </div>
                <div class="image-content">
                    <!-- Accessibility: Descriptive alt text is mandatory -->
                    <img src="images/john_doe.png" alt="Ammar's professional portrait, a full stack developer" class="profile-img">
                </div>
            </div>
        </section>

        <!-- About Me Section -->
        <section id="about" class="container">
            <h2 class="section-header">About Me</h2>
            <div class="about-grid">
                <div class="bio">
                    <p>I am a Computer Science student majoring in Multimedia Computing, offering a strong technical base supported by significant skills in UI/UX design and Figma.</p>
                    <p>My passion for design extends to the graphic arts, where I create excellent visuals using applications like Procreate.  I believe that technology should serve humanity.</p>
                </div>
                
                <!-- JS Feature 5: Skill Bars Card -->
                <div id="skills-card" class="card skills-card">
                    <h3>Core Competencies</h3>
                    <!-- Data-skill-level will be read by JS -->
                    <div class="skill-item-bar">
                        <p><span>JavaScript</span><span data-skill-level="70">70%</span></p>
                        <div class="progress-bar-container"><div class="progress-bar" id="js-bar"></div></div>
                    </div>
                    <div class="skill-item-bar">
                        <p><span>HTML5 & CSS3</span><span data-skill-level="75">75%</span></p>
                        <div class="progress-bar-container"><div class="progress-bar" id="css-bar"></div></div>
                    </div>
                    <div class="skill-item-bar">
                        <p><span>Database (SQL)</span><span data-skill-level="75">75%</span></p>
                        <div class="progress-bar-container"><div class="progress-bar" id="db-bar"></div></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="container">
            <h2 class="section-header">Recent Work</h2>
            <div class="projects-grid">
                
                <!-- Project 1 -->
                <div class="card project-card" role="article">
                    <div class="project-image" id="img-uiux"></div>
                    <h3>UI/UX Design Prototype (KUTS App)</h3>
                    <p>A defined Figma prototype for a mobile transportation application that demonstrates UI and UX design abilities (KUTS).</p> 
                    <p>Creating user flows, wireframing, and developing a responsive, aesthetically consistent interface with an emphasis on accessibility and simple navigation were all part of the project.</p>
                    <span class="tags">#Figma #UI/UX Design #Prototyping #User Flow</span>
                    <a href="https://www.figma.com/proto/0WH1Xe5VsJzgF9MxvWx5Sd/UIUX-Project_Integrated-Map?page-id=0%3A1&node-id=51-1575&starting-point-node-id=190%3A554&t=IEn0QRYOzaw0UkGc-1" class="project-link" target="_blank" rel="noopener noreferrer">View Prototype &rarr;</a>
                </div>

                <!-- Project 2 -->
                <div class="card project-card" role="article">
                    <div class="project-image" id="img-math"></div>
                    <h3>Quick Math Game</h3>
                    <p>A web-based interactive game meant to test and enhance fast mental arithmetic skills. Features include timer and real-time score tracking.</p>
                    <span class="tags">#HTML5 #CSS3 #JavaScript</span>
                    <a href="https://trashp4nda.github.io/SimpleMathGame_83204/" class="project-link" target="_blank" rel="noopener noreferrer">View Live Demo &rarr;</a>
                </div>

                <!-- Project 3 -->
                <div class="card project-card" role="article">
                    <div class="project-image" id="id="img-portfolio"></div>
                    <h3>03. Portfolio Site Template V2</h3>
                    <p>The code for this website. Demonstrates clean, modular, framework-free design with a strong focus on responsiveness and vanilla JS functionality.</p>
                    <span class="tags">#CustomCSS #VanillaJS #WebDesign</span>
                    <a href="#home" class="project-link">Return to Top &rarr;</a>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="container">
            <h2 class="section-header">Let's Connect</h2>
            <div class="contact-content">
                <p>I'm always interested in hearing about new projects, technical challenges, and collaboration opportunities. Send me a quick note, and I'll respond within 24 hours.</p>

                <!-- Basic Contact Form (Front-end only) -->
                <form id="contactForm" class="contact-form" action="MAILTO:jane.doe@example.com" method="POST">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required placeholder="Your Name" aria-required="true">

                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required placeholder="your.email@example.com" aria-required="true">

                    <label for="message">Message</label>
                    <textarea id="message" name="message" required placeholder="Tell me about your project or question..." aria-required="true"></textarea>

                    <button type="submit" class="btn">Send Secure Message</button>
                    
                    <!-- JS Feature 6 Target: Submission Feedback Message -->
                    <div id="form-message" role="alert" aria-live="assertive"></div>
                </form>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            &copy; <span id="currentYear"></span> Ammar Syazwan Bin Mohd Sharin. All rights reserved. | Code by Hand.
        </div>
    </footer>

    <!-- =================================================================
         8. Robust Vanilla JavaScript Implementation (8 Features)
         ================================================================= -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-link');
            const contactForm = document.getElementById('contactForm');
            const formMessage = document.getElementById('form-message');
            const darkModeToggle = document.getElementById('darkModeToggle');
            const body = document.body;
            const currentYearSpan = document.getElementById('currentYear');
            const skillsCard = document.getElementById('skills-card');
            
            // --- JS Feature 0: Set Current Year (Minor utility) ---
            currentYearSpan.textContent = new Date().getFullYear();

            // --- JS Feature 1: Smooth Scrolling (CSS + JS click handler) ---
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault(); 
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            // --- JS Feature 2: Active Navigation Highlighting (Intersection Observer) ---
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.5 // Highlight when 50% of the section is visible
            };

            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // Debounce: only act on the most visible section
                        navLinks.forEach(link => link.classList.remove('active'));
                        const targetId = entry.target.getAttribute('id');
                        const activeLink = document.querySelector(`.nav-link[href="#${targetId}"]`);
                        if (activeLink) {
                            activeLink.classList.add('active');
                        }
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                sectionObserver.observe(section);
            });
            
            // --- JS Feature 3: Scroll-based Header Shrink/Shadow (Minor Polish) ---
            const header = document.querySelector('.header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.style.padding = '10px 0';
                } else {
                    header.style.padding = '15px 0';
                }
            });


            // --- JS Feature 4: Typewriter Effect for Hero Text ---
            const roles = ["Full Stack Developer", "Technical Architect", "Accessibility Expert", "JavaScript Enthusiast"];
            const typedTextElement = document.getElementById('typed-text');
            let roleIndex = 0;
            let charIndex = 0;
            let isDeleting = false;
            let typingSpeed = 100;

            function typeWriter() {
                const currentRole = roles[roleIndex % roles.length];
                let displayedText = currentRole.substring(0, charIndex);

                typedTextElement.textContent = displayedText;

                if (!isDeleting) {
                    charIndex++;
                    if (charIndex > currentRole.length) {
                        typingSpeed = 2000; // Pause at end of word
                        isDeleting = true;
                    }
                } else {
                    charIndex--;
                    typingSpeed = 50; // Deleting speed
                    if (charIndex === 0) {
                        isDeleting = false;
                        roleIndex++;
                        typingSpeed = 150; // Pause before new word
                    }
                }
                
                // Adjust speed slightly
                let delay = typingSpeed + Math.random() * 50;

                setTimeout(typeWriter, delay);
            }
            typeWriter(); // Start the animation


            // --- JS Feature 5: Skill Bar Animation on Intersection ---
            const skillBars = [
                { id: 'js-bar', level: 95 },
                { id: 'css-bar', level: 90 },
                { id: 'node-bar', level: 85 },
                { id: 'db-bar', level: 80 }
            ];
            
            let skillsAnimated = false;

            const skillObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !skillsAnimated) {
                        skillBars.forEach(skill => {
                            const bar = document.getElementById(skill.id);
                            // Setting the width triggers the CSS transition
                            bar.style.width = `${skill.level}%`;
                        });
                        skillsAnimated = true;
                        skillObserver.unobserve(skillsCard); // Stop observing after animation
                    }
                });
            }, {
                root: null,
                rootMargin: '0px',
                threshold: 0.7 // Trigger when skill card is 70% visible
            });
            
            if (skillsCard) {
                 skillObserver.observe(skillsCard);
            }


            // --- JS Feature 6: Contact Form Validation and Feedback (Front-end Only) ---
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault(); 
                
                const name = document.getElementById('name').value.trim();
                const email = document.getElementById('email').value.trim();
                const message = document.getElementById('message').value.trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Simple email regex
                
                formMessage.style.display = 'none'; // Hide previous message

                if (!name || !email || !message) {
                    // Check for general required fields
                    formMessage.textContent = 'Please fill out all required fields (Name, Email, Message).';
                    formMessage.className = 'form-error';
                } else if (!emailRegex.test(email)) {
                    // Check for valid email format
                    formMessage.textContent = 'Please enter a valid email address.';
                    formMessage.className = 'form-error';
                } else {
                    // Success Simulation
                    formMessage.textContent = 'Thank you for your message! I will get back to you shortly.';
                    formMessage.className = 'form-success';
                    contactForm.reset();
                    // In a real application, you would send data here via fetch().
                }
                
                // Show the message and hide it after a few seconds
                formMessage.style.display = 'block';
                setTimeout(() => {
                    formMessage.style.display = 'none';
                    formMessage.className = '';
                }, 5000);
            });
            
            
            // --- JS Feature 7: Dark Mode Toggle and Persistence ---
            function applyDarkMode(isDark) {
                if (isDark) {
                    body.classList.add('dark-mode');
                    darkModeToggle.innerHTML = '&#9790;'; // Moon icon
                    localStorage.setItem('darkMode', 'enabled');
                } else {
                    body.classList.remove('dark-mode');
                    darkModeToggle.innerHTML = '&#9728;'; // Sun icon
                    localStorage.setItem('darkMode', 'disabled');
                }
            }
            
            // Check system/local preference on load
            const savedMode = localStorage.getItem('darkMode');
            if (savedMode === 'enabled' || (!savedMode && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                applyDarkMode(true);
            } else {
                applyDarkMode(false);
            }
            
            // Event listener
            darkModeToggle.addEventListener('click', () => {
                const isDarkMode = body.classList.contains('dark-mode');
                applyDarkMode(!isDarkMode);
            });
            
            // --- JS Feature 8: Page Preloader and Content Fade-In ---
            const preloader = document.getElementById('preloader');
            window.addEventListener('load', () => {
                // Hide preloader after everything loads
                setTimeout(() => {
                    preloader.classList.add('hidden');
                    // Ensure content is visible after preloader fades
                    body.classList.add('loaded'); 
                }, 500); // 500ms delay for a cleaner transition
            });

        });
    </script>
</body>

</html>








